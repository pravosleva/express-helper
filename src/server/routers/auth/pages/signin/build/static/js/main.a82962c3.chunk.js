(this.webpackJsonpsignin=this.webpackJsonpsignin||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),i=(n(97),n(53)),o=n.n(i),l=n(57),u=n(72),d=n(34),b=n(47),j=n(169),h=n(173),p=n(180),O=n(175),x=n(176),m=n(183),f=n(182),g=n(75),v=n.n(g),y=n(181),w=function(e){var t={};return e.password||(t.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),t},k=n(76),S=n.n(k),C=n(8),F=function(e){var t;return!!(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id)},P=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(d.a)(c,2),i=s[0],g=s[1],k=Object(a.useState)(null),P=Object(d.a)(k,2),T=P[0],I=P[1],W=Object(a.useState)(null),z=Object(d.a)(W,2),B=z[0],D=z[1],N=Object(a.useCallback)((function(){r(null)}),[r]),E=Object(a.useState)(!1),J=Object(d.a)(E,2),L=J[0],V=J[1],q=Object(a.useCallback)((function(e,t){V(t)}),[V]),A=S.a.parse(window.location.search),M=Object(a.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(),null===A||void 0===A?void 0:A.hash){e.next=3;break}return e.abrupt("return",Promise.reject("No hash in query!"));case 3:return e.next=5,v()({method:"POST",url:"".concat("http://localhost:5000","/auth/login"),headers:{"Content-Type":"application/json"},data:Object(l.a)(Object(l.a)({},t),{},{hash:null===A||void 0===A?void 0:A.hash})}).then((function(e){if(!F(e))throw new Error("Data is incorrect");return{isOk:!0,data:e.data}})).catch((function(e){return{isOk:!1,message:e.message||"No err.message"}}));case 5:if(!(n=e.sent).isOk){e.next=8;break}return e.abrupt("return",Promise.resolve(n.data));case 8:return e.abrupt("return",Promise.reject(n.message));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[null===A||void 0===A?void 0:A.hash,N]),R=Object(a.useCallback)((function(e){return 0===Object.keys(w(e)).length&&L}),[L]);return Object(C.jsx)(j.a,{style:{width:"100%",height:"100vh",paddingTop:"15%",display:"flex",justifyContent:"center",alignItems:"flex-start"},maxWidth:"sm",children:Object(C.jsx)(b.c,{initialValues:{password:""},validate:w,onSubmit:function(e,t){var n=t.setSubmitting,a=t.resetForm;R(e)?(N(),I(null),n(!0),M(e).then((function(e){n(!1),D(e.message),I(e.uiName),e.redirect&&g(e.redirect),a()})).catch((function(e){n(!1),r(e)}))):console.log("Check something")},children:function(e){var t=e.isSubmitting,a=e.errors,r=e.setFieldValue,c=e.values;return Object(C.jsx)(b.b,{children:Object(C.jsxs)(h.a,{container:!0,spacing:3,children:[Object(C.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(C.jsx)(b.a,{autoFocus:!0,component:p.a,name:"password",type:"password",label:"Password",error:!!a.password,helperText:a.password,fullWidth:!0,size:"small",variant:"outlined",onChange:function(e){r("password",e.target.value)},disabled:t||!!B})}),Object(C.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(C.jsx)(O.a,{style:{marginBottom:"5px"},variant:"contained",type:"submit",color:"primary",fullWidth:!0,endIcon:t&&Object(C.jsx)(x.a,{size:20}),disabled:t||!R(c)||!!B,children:"Submit"}),Object(C.jsx)(m.a,{disabled:t||!!B,control:Object(C.jsx)(f.a,{color:"primary",onChange:q,checked:L}),label:Object(C.jsxs)("span",{children:[Object(C.jsx)("b",{children:"cookies"})," is good"]})})]})}),!!n&&Object(C.jsx)(h.a,{item:!0,xs:12,children:Object(C.jsx)(y.a,{severity:"error",variant:"outlined",children:n})}),!!B&&Object(C.jsx)(h.a,{item:!0,xs:12,children:Object(C.jsxs)(y.a,{severity:"success",variant:"outlined",children:[B,". ",!!i&&Object(C.jsx)("a",{href:i,children:T})]})})]})})}})})};var T=function(){return Object(C.jsx)(P,{})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},W=n(179),z=n(81),B=n.n(z),D=n(4),N=n(83),E={palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:B.a.A400},background:{default:"#fff"}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}},J=Object(D.a)((function(e){return{"@global":{code:{background:"rgba(250, 239, 240, 0.78)",color:"#b44437",padding:"3px 4px",borderRadius:"5px",margin:"0 1px",fontSize:"0.9em",fontWeight:"500",letterSpacing:"0.3px"},a:{color:e.palette.primary.main},body:{overflowX:"hidden"}}}}))((function(){return null})),L=Object(N.a)(E),V=n(178),q=n(82),A=n(11);s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(q.a,{children:Object(C.jsxs)(V.a,{theme:L,children:[Object(C.jsx)(W.a,{}),Object(C.jsx)(J,{}),Object(C.jsx)(A.c,{children:Object(C.jsx)(A.a,{path:"/",exact:!0,component:T},"/")})]})})}),document.getElementById("root")),I()},97:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.a82962c3.chunk.js.map